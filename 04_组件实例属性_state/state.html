<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>state</title>
</head>
<style>
    .pointer {
        cursor: pointer;
    }
</style>

<body>
    <div id="app"></div>
</body>

<script src="https://cdn.bootcdn.net/ajax/libs/react/17.0.1/umd/react.development.js"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/react-dom/17.0.1/umd/react-dom.development.js"></script>
<script src="../lib/babel.min.js"></script>

<!-- <script type="text/babel">
    //1.定义组件
    class Weather extends React.Component {
        constructor(a) {
            //构造器里的this是组件类的实例对象
            super(a)
            this.state = { isHot: true }
            this.demo = this.demo.bind(this)
        }
        demo() {
            let { isHot } = this.state
            //console.log(this) demo里的this是undefined
            //组件实例对象的state：1.不能直接修改 2.不能直接更新
            //this.state.isHot = !this.state.isHot
            this.setState({ isHot: !isHot })
        }
        render() {
            let { isHot } = this.state
            return <h1 className='pointer' onClick={this.demo}>今天天气很{isHot ? '炎热' : '寒冷'}</h1>
        }
    }
    //2.渲染组件标签
    ReactDOM.render(<Weather />, document.getElementById('app'))
</script> -->

<script type="text/babel">
    //1.定义组件---最终简化
    class Weather extends React.Component {
        state = { isHot: true }
        demo = ()=>{
            //console.log(this)
            let isHot  = !this.state.isHot
            this.setState({ isHot })
        }
        render() {
            //console.log(this)
            //console.log(1) 初始化页面必须调用render一次，随后更新状态时，若组件中用到了状态里的数据，会触发render再次调用
            let { isHot } = this.state
            return <h1 className='pointer' onClick={this.demo}>今天天气很{isHot ? '炎热' : '寒冷'}</h1>
        }
    }
    //2.渲染组件标签
    ReactDOM.render(<Weather />, document.getElementById('app'))
</script>
</html>